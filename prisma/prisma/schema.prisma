//////////////////////////////////////////////////////////////////////////////////////////////
// DO NOT MODIFY THIS FILE                                                                  //
// This file is automatically generated by ZenStack CLI and should not be manually updated. //
//////////////////////////////////////////////////////////////////////////////////////////////

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

/// @@Entity
model Post {
  id                  Int                   @id() @default(autoincrement())
  title               String
  author              String
  password            String
  createdAt           DateTime              @default(now())
  updatedAt           DateTime?             @updatedAt()
  KeywordNotification KeywordNotification[]
  postDetail          PostDetail?           @relation(fields: [postDetailId], references: [id])
  postDetailId        Int?
  comments            Comment[]
}

/// @@ValueObject
model PostDetail {
  id      Int    @id() @default(autoincrement())
  content String @db.Text()
  postId  Int    @unique()
  Post    Post[]
}

/// @@Entity
model Comment {
  id              Int       @id() @default(autoincrement())
  postId          Int
  content         String
  author          String
  parentCommentId Int?
  post            Post      @relation(fields: [postId], references: [id])
  replies         Comment[] @relation("CommentReplies")
  parentComment   Comment?  @relation("CommentReplies", fields: [parentCommentId], references: [id])
  createdAt       DateTime  @default(now())
  updatedAt       DateTime? @updatedAt()
}

/// @@Entity
model KeywordNotification {
  id        Int       @id() @default(autoincrement())
  postId    Int
  keyword   String
  post      Post      @relation(fields: [postId], references: [id])
  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt()
}
